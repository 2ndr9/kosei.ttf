(this.webpackJsonpa=this.webpackJsonpa||[]).push([[0],{55:function(n,e,t){"use strict";t.r(e);var i,o,r,c,s,a,l=t(0),d=t.n(l),u=t(22),j=t.n(u),b=t(7),h=t(23),f=t.n(h),w=t(3),x=t(4),O=t(24),g=t.n(O),p=t(1),m=x.b.div(i||(i=Object(w.a)(["\n  position: fixed;\n  background: rgba(100, 100, 100, 0.8);\n  inset: 0;\n  display: flex;\n  flex-direction: column;\n"]))),v=x.b.div(o||(o=Object(w.a)(["\n  margin-top: 20%;\n  margin-left: 40%;\n  width: 100%;\n"]))),y=x.b.text(r||(r=Object(w.a)(["\n  color: rgba(250, 250, 250, 1);\n  font-size: 27px;\n  text-align: center;\n  font-family: tsuno;\n"]))),W=x.b.text(c||(c=Object(w.a)(["\n  line-height: 2.5em;\n"]))),C=function(n){return n.isLoading?Object(p.jsxs)(m,{children:[Object(p.jsx)(v,{children:Object(p.jsx)(g.a,{type:"bars",color:"white",height:"20%",width:"20%"})}),Object(p.jsxs)(y,{children:[Object(p.jsx)(W,{children:"Now Uploading..."}),Object(p.jsx)("br",{}),Object(p.jsx)(W,{children:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u4e2d\u3067\u3059"}),Object(p.jsx)("br",{}),Object(p.jsx)(W,{children:"\u3059\u3053\u3057\u304a\u5f85\u3061\u4e0b\u3055\u3044"})]})]}):Object(p.jsx)("div",{})},L=d.a.forwardRef((function(n,e){var t=e,i=null,o=null,r=function(){return t.current.getContext("2d")},c=Object(l.useState)(),s=Object(b.a)(c,2),a=s[0],d=s[1],u=Object(l.useState)(""),j=Object(b.a)(u,2),h=j[0],w=j[1],x=Object(l.useState)(!1),O=Object(b.a)(x,2),g=O[0],m=O[1],v=function(n){var e=t.current;i=null,o=null,d(e.toDataURL("image/png"))},y=function(n,e){var t=r();t.beginPath(),t.globalAlpha=1,null===i||null===o?t.moveTo(n,e):t.moveTo(i,o),t.lineTo(n,e),t.lineCap="square",t.lineWidth=8,t.strokeStyle="#000000",t.stroke(),i=n,o=e};return Object(p.jsxs)("div",{children:[Object(p.jsx)(C,{isLoading:g}),Object(p.jsx)("canvas",{id:"canvas",onMouseDown:function(n){if(0===n.button){var e=t.current.getBoundingClientRect(),i=~~(n.clientX-e.left),o=~~(n.clientY-e.top);y(i,o)}},onMouseMove:function(n){if(1===n.buttons){var e=t.current.getBoundingClientRect(),i=~~(n.clientX-e.left),o=~~(n.clientY-e.top);y(i,o)}},onMouseUp:v,onMouseOut:v,ref:t,style:{border:"2px solid"}}),Object(p.jsx)("button",{onClick:function(){r().clearRect(0,0,window.innerWidth,window.innerWidth);var n=t.current;d(n.toDataURL("image/png"))},style:{margin:"5px"},children:"\u30ea\u30bb\u30c3\u30c8"}),Object(p.jsxs)("form",{onSubmit:function(n){n.preventDefault(),m(!0),f.a.post("https://18.180.152.54/",{base64:String(a).replace(/^.*,/,""),font_name:h}).then((function(n){m(!1),console.log(n),window.location.href=window.location.href}))},style:{display:"flex"},children:[Object(p.jsxs)("p",{children:["\u66f4\u65b0\u3059\u308b\u6587\u5b57:"," ",Object(p.jsx)("input",{type:"text",required:!0,maxLength:1,value:h,onChange:function(n){return w(n.target.value)}})]}),Object(p.jsx)("button",{type:"submit",style:{margin:"15px"},children:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"})]})]})})),M=function(){var n=Object(l.useRef)(null);return Object(l.useEffect)((function(){var e=n.current.getContext("2d"),t=function(){e.canvas.height=window.innerHeight>2*window.innerWidth?.9*window.innerWidth:window.innerWidth*window.innerHeight/window.innerWidth*.9/2,e.canvas.width=window.innerHeight>2*window.innerWidth?.9*window.innerWidth:window.innerWidth*window.innerHeight/window.innerWidth*.9/2};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),Object(p.jsx)("div",{children:Object(p.jsx)(L,{ref:n})})},R=x.b.textarea(s||(s=Object(w.a)(['\n  font-family: "tsuno";\n  width: 100%;\n  height: 100%;\n  font-size: 40px;\n']))),S=function(n){return Object(p.jsxs)("section",{style:{height:"100%"},children:[Object(p.jsx)("h1",{className:"tsuno"}),Object(p.jsx)("p",{children:"\u81ea\u7531\u5165\u529b\u6b04"}),Object(p.jsx)(R,{})]})},k=Object(x.a)(a||(a=Object(w.a)(['\n@font-face {\n  font-family: "tsuno";\n  src: url("https://font-a.s3.ap-northeast-1.amazonaws.com/a.ttf?','")\n    format("opentype");\n}\n\nbody, input, select, button{\n  font-family:tsuno\n}\n\n#root{\n  height:"100%";\n}\n'])),(new Date).getTime()),z=t(11);z.isChrome&&!z.isMobile||alert("Google Chrome\u3067\u958b\u3044\u3066\u304f\u3060\u3055\u3044"),j.a.render(Object(p.jsxs)(d.a.StrictMode,{children:[Object(p.jsx)(k,{}),Object(p.jsx)(M,{}),Object(p.jsx)(S,{})]}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.f8011e10.chunk.js.map